<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Adventure Rogue-Like</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/portfolio-item.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

<!-- Navigation -->
   <div id="nav"></div>

    <!-- Page Content -->
<div class="adventure-bg">
    <div class="container" >
        <div class="content">

        <!-- Portfolio Item Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header" id="top">Adventure Rogue-like
                    
                </h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Portfolio Item Row -->
        <!--
        <div class="row">

             <div class="col-md-8">
               
<iframe src="https://etrizzo.github.io/361/stepping-stones/stepping-stones.html" width="750px" height="500px" scrolling="no"></iframe>
                <iframe src="https://etrizzo.github.io/361/stepping-stones/stepping-stones.html" width="100%" height="700px" scrolling="no" style="border:0px #000000 none;" name="Stepping Stones" align="center"></iframe>
                <img class="img-responsive" src="http://placehold.it/750x500" alt=""> 
            </div>-->

            <img src="https://etrizzo.github.io/images/adventure/villagers3.png" width="100%" scrolling="no" style="border:0px #000000 none;" name="Adventure" align="center">
                <h3>About Game</h3>
                <p>Adventure is a 2D roguelike, complete with procedurally generated maps, perma-death, a quest system, and a party system. Originally, this project was assigned over 5 weeks in my first software development class at Guildhall. I later decided to take the game further by continuing development over an 8-week directed focus study, and during my own time outside of class. My goal with development was to move beyond the standard roguelike formula, and give the player a sense of growth from quest to quest. I worked to achieve this by developing my map generation system, and modeling gameplay after my favorite arc in the popular Dungeons and Dragons podcast “The Adventure Zone.” The breadth of this project allowed me to explore many areas of interest for me – including procedural generation, AI, UI, and system design - and will continue to be a great project to return to and polish into a finished game.</p>
                <p>
                In adventure, the player spawns into a large map, filled with both friendly and hostile entities. The player must explore the map to complete a main quest, which will bring them to the next encounter. But, the player can spend more time searching to complete side quests, to grant them more equipment, stats, and even new party members. As the player moves through encounters, the maps get progressively harder, with more and more high-level enemies spawning. The player must survive through as many encounters as possible, until their entire party dies out.
                </p>



                <div class="container">
                    <div class="row">
                        <div class="col-sm-6">
                            <h3>Specs</h3>
                            <ul>
                                <li>Engine: <b>Personal</b></li>
                                <li>Language: <b>C++, OpenGL</b></li>
                            </ul>
                        </div>
                        <div class="col-sm-6">
                            <h3>Features</h3>
                            <ul>
                                <li><a href="#mapsection">Map Generation</a></li>
                                <li><a href="#edgeSection">Organic Tile Edges</a></li>
                                <li><a href="#questsection">Quest System</a></li>
                                <li><a href="#partysection">Party System</a></li>
                            </ul>
                        </div>
                    </div>
                </div>


                <br>
                <hr>
                <!--
                <h3> Downloads </h3>
                        <a href="https://etrizzo.github.io/UNWelcome_LAUNCH.zip"><button type="button" class="btn btn-primary">
                           Download APK
                        </button></a>

                        <button type="button" class="btn btn-primary">
                           (.EXE download coming soon)
                        </button>
                -->
                <br>
                <br>


                <h3>Game Features</h3>
                <hr>
                <h4 id="mapsection">Map Generation</h4>
                <div align="center">
                     <center><img src = "https://etrizzo.github.io/images/adventure/map_generation_updated.PNG" align="center" width="100%"></center>
                </div>
                <br>
                <p>
                    Maps in Adventure are generated through a sequence of generation steps, defined in data. For this system, I implemented a large number of generation step types, which, when used in tandem, can create exciting, organic 2D maps. To expand on this system, I added a masking system, which allowed generation steps to be run on a sub-area of the main map. These subareas can be defined as rectangles, circles, or perlin noise ranges. This system is extremely buildable – I can easily add new generation steps, and quickly see results on the screen. 
                </p>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Generation Step</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Mutate</td>
                            <td>Checks every tile, and has a random chance to change tile to a defined type (if that tile meets the parameters) </td>
                        </tr>
                        <tr>
                            <td>FillAndEdge</td>
                            <td>Fills the area with one tile type, and edges it with another </td>
                        </tr>
                        <tr>
                            <td>CellularAutomata</td>
                            <td>Changes a tile based on its neighbors.  </td>
                        </tr>
                        <tr>
                            <td>SpawnItem, SpawnActor, Spawn Decoration</td>
                            <td>Adds entities to the map. Can specify what kind of tiles to spawn on, or which tags the entity can or cannot spawn on. </td>
                        </tr>
                        <tr>
                            <td>RoomAndPath</td>
                            <td>Creates rooms, and generates paths between them. Can modify how many rooms, how many times rooms can overlap, how straight the paths should be, how large the rooms are, and what tiles the rooms/paths are made of. Useful for creating man-made looking structures like villages.  </td>
                        </tr>
                        <tr>
                            <td>FromFile</td>
                            <td>Loads an image from file, and parses it as tiles, using the tiles defined chromakey. </td>
                        </tr>
                        <tr>
                            <td>SetSubArea</td>
                            <td>Sets a subarea for all generation steps beneath it. </td>
                        </tr>
                        <tr>
                            <td>EndSubArea</td>
                            <td>Returns the subarea to the current subarea’s parent subarea. </td>
                        </tr>
                        <tr>
                            <td>Submap</td>
                            <td>Runs all map generation steps from another defined map. Can be used in a subarea to generate a small map within a much larger map.</td>
                        </tr>
                    </tbody>
                </table>



                <hr>
                <h4 id="edgeSection">Organic Tile Edges</h4> 
                <div align="center">
                    <img src = "https://etrizzo.github.io/images/adventure/edge3_step6.PNG" align="center" width="100%">
                </div>
                <p>As I worked on the map generation more, I found that the maps were starting to look ~really good~ when I was zoomed out and looking at the entire map. But on the actual game screen, while walking around, they still looked very unpolished, because of the harsh edges between tiles. The Liberated Pixel Cup tileset that I was using came with an incomplete set of cosmetic edge tiles for most tile types, so I decided to add a pass after map generation to add these cosmetic overlays appropriately to the procedural terrain.</p>
               <center><img src = "https://etrizzo.github.io/images/adventure/tilesheet.png" align="center" width="100%"></center>
                  <div align="center">Liberated Pixel Cup edge tile format</div>
                <p>Conceptually, this is just a very specific cellular automata problem. However, because this tileset was missing an edge for every configuration (for instance, a grass tile with only one neighboring grass tile), I couldn't just set the rule for every configuration - there would definitely be invalid tiles on the map, and I'd have to deal with them somehow.. Additionally, I needed a way to determine which edge to place between tile types - should the grass edge go on the sand tile, or should the sand edge go on the grass tile? What about areas where three different tile types meet on one space?</p>
                <br>
                <p>
                    The first step is to establish what kind of edge a tile should have on it. In data, I defined a terrain height for all terrain tiles, and use that to determine which direction an edge should "flow". So now I could know in data, that between grass and sand, grass edges should go on top of sand tiles. Now, for each tile, I can look at the neighboring tiles, and establish what higher-level edge is most common to determine the edge type. Once I know what kind of edge to place, I can look at a set of rules to determine which edge should be placed - or at least, which one is most suitable.
                </p>
                
                <center><img src = "https://etrizzo.github.io/images/adventure/TileDefinition.png" align="center" width="100%"></center>
                  <div align="center">TileDefinition.xml: Determines which layer a tile should be in, and the height of the terrain. Note that both Grass and Flower tiles point to the Grass edge definition - while flowers are cosmetically different and could easily have different affects in game, they should still be treated like grass for the purpose of placing these edges.</div>

                <p>
                    Now that I could find an edge to place, I had to plan for situations where there was no clear, single answer for the best edge. I decided to prioritize by the type of terrain, and have a separate sprite layer for each type - edges between ground and water/lava should be highest priority, because there is a gameplay difference between water and ground. After that, it looked best to have the grass layer be on top of any other terrain, regardless of whether it was sand or dirt. The third layer are all of the low priority edges between different types of dirt or sand - nothing necessarily looks out of place if these layers are swapped around, and small inaccuracies in the placement of edges in this layer are pretty unnoticable. To try and minimize this slim chance of strange looking tiles, I decided to add an initial pass to clear invalid configurations, so that the map started out as clean as possible.
                </p>
                <p>
                    So, my pass for edging tiles ended up looking like this:
                    <ul>
                        <li>Clear Invalid Tiles</li>
                        <li>Add "Tufts" where there are single high-level tiles entirely surrounded by lower-level tiles. (i.e., a single patch of grass)</li>
                        <li>Add Ground Layer->Water Layer and Ground Layer->Lava Layer edges</li>
                        <li>Add Grass Layer->Earth Layer edges</li>
                        <li>Add Earth Layer->Earth Layer edges according to terrain height</li>
                    </ul>
                    While there are still a few tiles in every map that look a little off, the benefit of having a procedurally generated world that actually looks smooth and organic is well worth it.
                </p>

                <div id="edgeCarousel" class="carousel" data-ride="carousel" data-interval="false">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#edgeCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#edgeCarousel" data-slide-to="1"></li>
                        <li data-target="#edgeCarousel" data-slide-to="2"></li>
                        <li data-target="#edgeCarousel" data-slide-to="3"></li>
                        <li data-target="#edgeCarousel" data-slide-to="4"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="item active">
                            <!-- Set the first background image using inline CSS below. -->
                            <img src="https://etrizzo.github.io/images/adventure/edge3_step2.PNG" width="100%" />
                            <div class="carousel-caption">
                                <h3>Starting map</h3>
                            </div></a>
                        </div>
                        <div class="item">
                            <!-- Set the first background image using inline CSS below. -->
                            <img src="https://etrizzo.github.io/images/adventure/edge3_step3.PNG" width="100%" />
                            <div class="carousel-caption">
                                <h3>Cleanup</h3>
                                Remove invalid tiles and add "tufts"
                            </div></a>
                        </div>
                        <div class="item">
                            <!-- Set the first background image using inline CSS below. -->
                            <img src="https://etrizzo.github.io/images/adventure/edge3_step4.PNG" width="100%" />
                            <div class="carousel-caption">
                                <h3>High priority edges</h3> 
                                Edge from Ground Layer to Shore Layer
                            </div></a>
                        </div>
                        <div class="item">
                            <!-- Set the first background image using inline CSS below. -->
                            <img src="https://etrizzo.github.io/images/adventure/edge3_step5.PNG" width="100%" />
                            <div class="carousel-caption">
                                <h3>Medium priority edges</h3> 
                                Edge from Grass Layer to Earth Layer
                            </div></a>
                        </div>
                        <div class="item">
                            <!-- Set the first background image using inline CSS below. -->
                            <img src="https://etrizzo.github.io/images/adventure/edge3_step6.PNG" width="100%" />
                            <div class="carousel-caption">
                                <h3>Low priority edges</h3>
                                 Edge from light dirt to dark dirt, dirt to sand, etc. Done!
                            </div></a>
                        </div>
                    </div>


                    <!-- Controls -->
                    <a class="left carousel-control" href="#edgeCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous Step</span>
                    </a>
                    <a class="right carousel-control" href="#edgeCarousel" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next Step</span>
                    </a>
                </div>
                <div align="center"> Adding edges: click left and right to step through the edging process for the maps.</div>

                <hr>

<!-- Game Feature Template -->
                <h4 id="questsection">Quest System</h4>
                <div align="center">
                     <center><img src = "https://etrizzo.github.io/images/adventure/quest_start.PNG" align="center" width="100%"></center>
                </div>
                <br>
                <p>It was important to me to add a robust quest system to the game, to really get the feel of an RPG. The game has both main quests and side quests, where completing the main quest will progress the player to the next encounter, and completing side quests will grant the player various rewards, if completed. Quests have 3 components: Quest steps, Quest giver, and Quest Reward.</p>
                 <center> <img src = "https://etrizzo.github.io/images/adventure/check_quest.PNG" align="center" width="100%"></center>
                 <div align="center"> Quest.cpp: quest checks for completion every frame </div>
                 <br>
                <p>
                    The quest steps are a series of conditions, which are updated every frame. These conditions can be killing a specified actor type, collecting an item, or speaking to an actor. Every frame, the game checks if any active quest steps have been completed, and advances the quest if they have. Once all steps have been finished in a quest, the quest reward is distributed. Quest steps, called “VictoryConditions” in code, are a pure virtual class, and all of the unique quest functionalities inherit from that class. 
                </p>

                <p>
                    The Quest Giver is how the quest is started – now, the quest giver is either “none” (the player starts with the quest information) or an actor of a specified type. If the quest giver is an actor, the map will spawn an actor of that type on the map, and assign the quest to that actor. The player can then talk to the actor to learn more about the quest, and progress the quest.
                </p>
                  <center><img src = "https://etrizzo.github.io/images/adventure/quest_reward.PNG" align="center" width="100%"></center>
                  <div align="center"> QuestReward.hpp: virtual class where different rewards inherit and implement their functionality</div>
                    <br>
                <p>
                The quest reward is a triggered once all steps in the quest have been completed. QuestReward is a pure virtual class, which individual rewards inherit from. Currently quests can award items, permanent stat increases, or party members. 
                </p>
                <br>
                <a href="#top"> Back To Top</a>
                <br>


                <hr>
                <h4 id="partysection">Party System</h4> 
                <div align="center">
                    <img src = "https://etrizzo.github.io/images/adventure/ally_gameplay.gif" align="center" width="100%">
                </div>
                <p>In each encounter, the player can complete a special side-quest to gain an ally in their journey. Allies spawn with a quest near villages, and send the player on lengthy missions. Once you’ve completed the quest, the ally will join your party, and fight with you. The player can swap between controlling members of their party, and can equip any member of the party with equipment. </p>
               <center><img src = "https://etrizzo.github.io/images/adventure/party_swap.png" align="center" width="100%"></center>
                  <div align="center"> QuestReward.hpp: virtual class where different rewards inherit and implement their functionality</div>
                <p>In code, the player’s party is made up of a list of Actor entities, with a pointer to the current controlled actor, and an index for where that actor is in the array. Switching between party members is as simple as incrementing that index, and modding the result to loop through the list. The player’s inventory is shared across all party members – whenever an actor joins the party, their entire inventory is added to the party. This system allows for any number of actors to join the party, and easily distribute equipment as the player sees fit. Though, for gameplay purposes, the number of party members should be limited.</p>
                <br>

                <h4>Quest Dialogue</h4>
                <div class="container-fluid">
                <div class = "col-xs-4" width="100%">
                <a href="#" data-toggle="modal" data-target="#dialogueModal" ><img src = "https://etrizzo.github.io/images/adventure/ally_quest_dialogue.gif" class="modal-click" name="Ally quest dialogue" align="center" width="100%"></a>
                <div id="dialogueModal" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content -->
                        <div class="modal-content modal-lg">
                          <div class="modal-body">
                            <img src = "https://etrizzo.github.io/images/adventure/ally_quest_dialogue.gif" name="Ally Dialogue" width="100%">
                            <br>
                             <p>Certain NPCs will give the player special quests to complete around the map. Some will join your party after you help them.</p>
                          </div>
                        </div>

                    </div>
                </div>
                <center>
                    <br>
                    <p>A potential ally giving a quest</p>
                 </center>
               
                </div>

                <div class = "col-xs-4" width="100%">
                <a href="#" data-toggle="modal" data-target="#joinModal" ><img src = "https://etrizzo.github.io/images/adventure/ally_joining.gif" name="Ally joining your party" class="modal-click" align="center" width="100%"></a>
                 
                 <div id="joinModal" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content modal-lg">
                          <div class="modal-body">
                            <img src = "https://etrizzo.github.io/images/adventure/ally_joining.gif" name="Joining Party" class="img-rounded" width="100%">
                            <br>
                             <p>After an NPC joins your party as an ally, they follow the player and can equip items from the party inventory.</p>
                          </div>
                        </div>

                    </div>
                </div>
                <center>
                    <br>
                    <p>An ally joining your party.</p>
                </center>
                </div>

                <div class = "col-xs-4" width="100%">
              <a href="#" data-toggle="modal" data-target="#combatModal" > <img src = "https://etrizzo.github.io/images/adventure/ally_combat.gif" name="Ally fighting alongside you" align="center" class="modal-click" width="100%"></a>
                 <div id="combatModal" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content modal-lg">
                          <div class="modal-body">
                            <img src = "https://etrizzo.github.io/images/adventure/ally_combat.gif" name="Ally fighting alongside you" class="img-rounded" width="100%">
                            <br>
                             <p>Allies will fight alongside you, and can die if you aren't careful.</p>
                          </div>
                        </div>

                    </div>
                </div>
               
                    <center>
                        <br>
                         <p>
                            Your party in combat.
                        </p>
                    </center>
                
                </div>

            </div>

            <hr>

            <h3>Future Plans</h3>
                <div class="container-fluid">
                    <p>
                    Adventure is a broad game, and has lots of room to grow. I plan on continuing to work on it throughout my time at guildhall, eventually polishing it into a finished game. In the immediate feature, I'm looking to accomplish the following tasks:
                    <ul>
                        <li>Save system</li>
                        <li>Melee combat</li>
                        <li>Character creation</li>
                        <li>Ally dialogue generation</li>
                        <li>Timed encounters</li>
                        <li>Tutorial level</li>
                        <li>Thematic elements</li>
                    </p>

                    <p>
                        My final vision for adventure is a rogue-like game modeled after the "Stolen Century" arc in the popular dungeons and dragons podcast, "The Adventure Zone." In the arc, the players are pulled between parallel universes by a mysterious power, and are constantly pursued by an evil, enigmatic force hunting for that power. In Adventure, I will try to foster that sense of mystery by bringing the player into a new world in each encounter, each with its own characters and quests to explore. I believe that a stronger main arc for each encounter (i.e., timed encounters, a "homebase" for the player in each world, etc.) would add greatly to the player experience in adventure.
                    </p>
                </div>



        <!-- /.row -->

        <!-- Related Projects Row -->
        <!--
        <div class="row">

            <div class="col-lg-12">
                <h3 class="page-header">Related Projects</h3>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="flocking.html">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="marble.html">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>

        </div>
    -->
        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Emily Rizzo 2018</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>
            </div>
        </div>
    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
    
        <!-- include javascript for nav bar -->
    <script src="js/include.js"></script>
    
    <script> 
        $(function(){
            $("#nav").load("nav.html");
        });
    </script> 

</body>

</html>
